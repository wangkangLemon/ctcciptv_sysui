{"version":3,"sources":["webpack:///static/js/78.afd72f787cb8d0a7ae6b.js","webpack:///./src/views/course/video/Add.vue","webpack:///Tags.vue?134a**********","webpack:///./src/views/component/form/Tags.vue?df11***********","webpack:///./src/views/component/form/Tags.vue?d626***********","webpack:///./src/views/component/form/Tags.vue?7182**********","webpack:///./src/views/component/form/Tags.vue?06bc***********","webpack:///./src/services/course/videoService.js?7806****","webpack:///Add.vue","webpack:///./src/vendor/ossSdk.js","webpack:///./src/views/course/video/Add.vue?40d4","webpack:///./src/views/course/video/Add.vue?bc09","webpack:///./src/views/course/video/Add.vue?944c"],"names":["webpackJsonp","133","module","exports","__webpack_require__","Component","230","__webpack_exports__","Object","defineProperty","value","props","Array","closable","type","Boolean","default","data","currVal","this","inputVisible","inputValue","created","activated","watch","val","length","$emit","methods","handleClose","tag","splice","indexOf","showInput","_this","$nextTick","_","$refs","saveTagInput","input","focus","handleInputConfirm","push","components","231","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","232","content","locals","233","234","render","_vm","_h","$createElement","_c","_self","attrs","id","_l","key","close-transition","on","close","$event","_v","_s","ref","staticClass","placeholder","size","blur","nativeOn","keyup","_k","keyCode","model","callback","$$v","expression","click","staticRenderFns","256","Promise","_classCallCheck","instance","Constructor","TypeError","__WEBPACK_IMPORTED_MODULE_0__api__","__WEBPACK_IMPORTED_MODULE_1__utils_config__","__WEBPACK_IMPORTED_MODULE_2__utils_authUtils__","_createClass","defineProperties","target","descriptor","enumerable","configurable","writable","protoProps","staticProps","prototype","urlPre","config","apiHost","VideoService","_ref","page","pagesize","status","file_name","time_start","time_end","url","api","then","ret","_ref2","name","tags","cover","duration","_ref3","_ref4","_ref5","arguments","undefined","gov_id","material_id","title","create_start","create_end","used","_ref6","source_type","source_url","_ref7","authUtils","getUserInfo","finalUrl","_ref8","companyid","company_id","_ref9","code","xmview","showTip","message","reject","form","call","428","__WEBPACK_IMPORTED_MODULE_0__component_form_Tags_vue__","__WEBPACK_IMPORTED_MODULE_0__component_form_Tags_vue___default","n","__WEBPACK_IMPORTED_MODULE_1__vendor_ossSdk__","__WEBPACK_IMPORTED_MODULE_2__services_course_videoService__","__WEBPACK_IMPORTED_MODULE_3__utils_authUtils__","ossSdk","vTags","a","listData","uploading","beforeCreate","user","mounted","setContentLoading","fileChange","e","_listData","dom","files","checkExist","process","apply","deleteVideo","index","fileClick","submit","uploadVideo","count","item","getOssToken","now","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","Math","random","toString","substring","join","extname","uploadFile","progress","create","res","requestUrls","split","setTimeout","$router","back","err","JSON","stringify","parts","shift","pop","519","ossOption","changeToken","saveCheckPoint","checkpoint","getFileKey","window","localStorage","setItem","deleteCheckPoint","removeItem","getCheckPoint","getItem","parse","accessKeyId","AccessKeyId","accessKeySecret","AccessKeySecret","stsToken","SecurityToken","bucket","BucketName","region","Region","secure","location","protocol","client","OSS","Wrapper","checkPointIndexes","resolve","script","document","createElement","src","head","appendChild","onload","lastModified","webkitRelativePath","success","error","multipartUpload","partSize","pgs","cpt","done","floor","catch","options","cancelUploadFile","abortMultipartUpload","uploadId","527","645","779","_e","slot","icon","label-width","label","percentage","disabled","staticStyle","display","multiple","accept","change"],"mappings":"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","file":"static/js/78.afd72f787cb8d0a7ae6b.js","sourcesContent":["webpackJsonp([78],{\n\n/***/ 133:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(645)\n\nvar Component = __webpack_require__(5)(\n  /* script */\n  __webpack_require__(428),\n  /* template */\n  __webpack_require__(779),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 230:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    props: {\n        value: Array,\n        closable: { type: Boolean, default: true }\n    },\n    data: function data() {\n        return {\n            currVal: this.value || [],\n            inputVisible: false,\n            inputValue: void 0\n        };\n    },\n    created: function created() {},\n    activated: function activated() {},\n\n    watch: {\n        'value': function value(val) {\n            if (val != this.currVal || val && val.length != this.currVal.length) {\n                this.currVal = val;\n            }\n        },\n        'currVal': function currVal(val) {\n            if (val.length != this.currVal || val != this.currVal) {\n                this.$emit('input', val);\n            }\n        }\n    },\n    methods: {\n        handleClose: function handleClose(tag) {\n            this.currVal.splice(this.currVal.indexOf(tag), 1);\n        },\n        showInput: function showInput() {\n            var _this = this;\n\n            this.inputVisible = true;\n            this.$nextTick(function (_) {\n                _this.$refs.saveTagInput.$refs.input.focus();\n            });\n        },\n        handleInputConfirm: function handleInputConfirm() {\n            var inputValue = this.inputValue;\n            if (inputValue) {\n                this.currVal.push(inputValue);\n            }\n            this.inputVisible = false;\n            this.inputValue = '';\n        }\n    },\n    components: {}\n});\n\n/***/ }),\n\n/***/ 231:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(100)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"#component-form-tags{display:inline-block}#component-form-tags .el-tag{margin-right:5px}#component-form-tags .input-new-tag{display:inline-block;width:80px!important}\", \"\", {\"version\":3,\"sources\":[\"/home/baichenhui/devspace/sys_ui/assets/src/views/component/form/Tags.vue\"],\"names\":[],\"mappings\":\"AACA,qBAAqB,oBAAoB,CACxC,AACD,6BAA6B,gBAAgB,CAC5C,AACD,oCAAoC,qBAAqB,oBAAqB,CAC7E\",\"file\":\"Tags.vue\",\"sourcesContent\":[\"\\n#component-form-tags{display:inline-block\\n}\\n#component-form-tags .el-tag{margin-right:5px\\n}\\n#component-form-tags .input-new-tag{display:inline-block;width:80px !important\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 232:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(231);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(101)(\"0db94868\", content, true);\n\n/***/ }),\n\n/***/ 233:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(232)\n\nvar Component = __webpack_require__(5)(\n  /* script */\n  __webpack_require__(230),\n  /* template */\n  __webpack_require__(234),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 234:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('article', {\n    attrs: {\n      \"id\": \"component-form-tags\"\n    }\n  }, [_vm._l((_vm.currVal), function(tag) {\n    return _c('el-tag', {\n      key: tag,\n      attrs: {\n        \"closable\": _vm.closable,\n        \"close-transition\": false\n      },\n      on: {\n        \"close\": function($event) {\n          _vm.handleClose(tag)\n        }\n      }\n    }, [_c('i', [_vm._v(_vm._s(tag))])])\n  }), _vm._v(\" \"), (_vm.inputVisible) ? _c('el-input', {\n    ref: \"saveTagInput\",\n    staticClass: \"input-new-tag\",\n    attrs: {\n      \"placeholder\": \"输入标签\",\n      \"size\": \"mini\"\n    },\n    on: {\n      \"blur\": _vm.handleInputConfirm\n    },\n    nativeOn: {\n      \"keyup\": function($event) {\n        if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13)) { return null; }\n        _vm.handleInputConfirm($event)\n      }\n    },\n    model: {\n      value: (_vm.inputValue),\n      callback: function($$v) {\n        _vm.inputValue = $$v\n      },\n      expression: \"inputValue\"\n    }\n  }) : _c('el-button', {\n    attrs: {\n      \"size\": \"small\"\n    },\n    on: {\n      \"click\": _vm.showInput\n    }\n  }, [_vm._v(\"添加标签\")])], 2)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 256:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Promise) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__api__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_config__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_authUtils__ = __webpack_require__(2);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// 视频管理\n\n\n\nvar urlPre = __WEBPACK_IMPORTED_MODULE_1__utils_config__[\"a\" /* default */].apiHost + '/video';\n\nvar VideoService = function () {\n    function VideoService() {\n        _classCallCheck(this, VideoService);\n    }\n\n    _createClass(VideoService, [{\n        key: 'search',\n\n        // // 搜索\n        value: function search(_ref) {\n            var page = _ref.page,\n                pagesize = _ref.pagesize,\n                status = _ref.status,\n                file_name = _ref.file_name,\n                time_start = _ref.time_start,\n                time_end = _ref.time_end;\n\n            var url = urlPre + '/lists';\n            if (status == null || status === '') {\n                status = -1;\n            }\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](url, { page: page, pagesize: pagesize, status: status, file_name: file_name, time_start: time_start, time_end: time_end }).then(function (ret) {\n                return ret;\n            });\n        }\n\n        // 修改\n\n    }, {\n        key: 'update',\n        value: function update(_ref2) {\n            var id = _ref2.id,\n                name = _ref2.name,\n                tags = _ref2.tags,\n                cover = _ref2.cover,\n                duration = _ref2.duration;\n\n            var url = urlPre + '/' + id + '/';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, { name: name, tags: tags, cover: cover, duration: duration });\n        }\n\n        // 删除\n\n    }, {\n        key: 'delete',\n        value: function _delete(_ref3) {\n            var id = _ref3.id;\n\n            var url = urlPre + '/delete/' + id;\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url);\n        }\n\n        // 批量删除\n\n    }, {\n        key: 'deleteMulty',\n        value: function deleteMulty(_ref4) {\n            var id = _ref4.id;\n\n            var url = urlPre + '/batchdel';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, { id: id });\n        }\n\n        // 获取oss的上传token\n\n    }, {\n        key: 'getOssToken',\n        value: function getOssToken() {\n            var url = urlPre + '/video/upload';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](url, {}).then(function (ret) {\n                return ret.data;\n            });\n        }\n\n        // 刷新视频状态\n\n    }, {\n        key: 'refreshStatus',\n        value: function refreshStatus() {\n            var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                id = _ref5.id;\n\n            var url = urlPre + '/refresh/aliyun/status';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, { id: id });\n        }\n\n        // 获取视频预览信息\n\n    }, {\n        key: 'getPreviewInfo',\n        value: function getPreviewInfo(id) {\n            var url = urlPre + '/' + id + '/preview';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](url).then(function (ret) {\n                return ret.data;\n            });\n        }\n\n        //------------------------\n        // 获取视频\n        //{ gov_id, material_id, title, page, pagesize, create_start, create_end, status }\n\n    }, {\n        key: 'getVideo',\n        value: function getVideo(gov_id, material_id, title, page, pagesize, create_start, create_end, status, used) {\n            var url = urlPre + '/lists';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](url, gov_id, material_id, title, page, pagesize, create_start, create_end, status, used).then(function (ret) {\n                return ret;\n            });\n        }\n\n        // 添加视频\n\n    }, {\n        key: 'create',\n        value: function create(_ref6) {\n            var file_name = _ref6.file_name,\n                size = _ref6.size,\n                gov_id = _ref6.gov_id,\n                tags = _ref6.tags,\n                source_type = _ref6.source_type,\n                source_url = _ref6.source_url;\n\n            var url = urlPre + '/create';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, { file_name: file_name, size: size, gov_id: gov_id, tags: tags, source_type: source_type, source_url: source_url });\n        }\n\n        // 修改视频\n\n    }, {\n        key: 'updateVideo',\n        value: function updateVideo(_ref7) {\n            var file_name = _ref7.file_name,\n                gov_id = _ref7.gov_id,\n                tags = _ref7.tags,\n                cover = _ref7.cover,\n                duration = _ref7.duration,\n                material_id = _ref7.material_id;\n\n            gov_id = gov_id || __WEBPACK_IMPORTED_MODULE_2__utils_authUtils__[\"a\" /* default */].getUserInfo().gov_id;\n            var url = urlPre + '/edit/' + material_id;\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, { file_name: file_name, gov_id: gov_id, tags: tags, cover: cover, duration: duration });\n        }\n\n        // 获取oss的上传token\n\n    }, {\n        key: 'getOssToken',\n        value: function getOssToken() {\n            var finalUrl = __WEBPACK_IMPORTED_MODULE_1__utils_config__[\"a\" /* default */].apiHost + '/video/upload';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](finalUrl).then(function (ret) {\n                return ret.data;\n            });\n        }\n\n        // 刷新视频状态\n\n    }, {\n        key: 'refreshVideoStatus',\n        value: function refreshVideoStatus() {\n            var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                companyid = _ref8.companyid,\n                id = _ref8.id;\n\n            companyid = companyid || __WEBPACK_IMPORTED_MODULE_2__utils_authUtils__[\"a\" /* default */].getUserInfo().company_id;\n            var finalUrl = urlPre + '/refresh/' + id;\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](finalUrl, { id: id }).then(function (ret) {\n                return ret;\n            });\n        }\n\n        // 获取上传封面的url\n\n    }, {\n        key: 'getUploadCoverUrl',\n        value: function getUploadCoverUrl() {\n            return urlPre + '/cover';\n        }\n    }, {\n        key: 'deleteVideo',\n        value: function deleteVideo(_ref9) {\n            var id = _ref9.id;\n\n            var url = urlPre + '/delete/' + id;\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url).then(function (ret) {\n                if (ret.code == 0) {\n                    xmview.showTip('success', '操作成功');\n                    return ret;\n                } else {\n                    xmview.showTip('error', ret.message);\n                    return Promise.reject(ret);\n                }\n            });\n        }\n\n        // 获取视频预览地址\n\n    }, {\n        key: 'getVideoPreviewUrl',\n        value: function getVideoPreviewUrl(id) {\n            var url = urlPre + '/get/' + id;\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](url).then(function (ret) {\n                return ret.data;\n            });\n        }\n        // 审核状态\n\n    }, {\n        key: 'auditVideo',\n        value: function auditVideo(form) {\n            var finalUrl = urlPre + '/video/' + form.id + '/audit';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](finalUrl, form);\n        }\n    }]);\n\n    return VideoService;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new VideoService());\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(1)))\n\n/***/ }),\n\n/***/ 428:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__component_form_Tags_vue__ = __webpack_require__(233);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__component_form_Tags_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__component_form_Tags_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__vendor_ossSdk__ = __webpack_require__(519);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_course_videoService__ = __webpack_require__(256);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_authUtils__ = __webpack_require__(2);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\nvar ossSdk = new __WEBPACK_IMPORTED_MODULE_1__vendor_ossSdk__[\"a\" /* default */]();\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'course-video-add',\n    components: {\n        vTags: __WEBPACK_IMPORTED_MODULE_0__component_form_Tags_vue___default.a\n    },\n    data: function data() {\n        return {\n            listData: [],\n            uploading: false\n        };\n    },\n    beforeCreate: function beforeCreate() {\n        // ossSdk = new OssSdk()\n        this.user = __WEBPACK_IMPORTED_MODULE_3__utils_authUtils__[\"a\" /* default */].getUserInfo();\n    },\n    mounted: function mounted() {\n        xmview.setContentLoading(false);\n    },\n\n    methods: {\n        fileChange: function fileChange(e) {\n            var _listData;\n\n            var dom = e.target;\n            var ret = [];\n            for (var i = 0; i < dom.files.length; i++) {\n                var file = dom.files[i];\n                if (this.checkExist(file.name)) {\n                    xmview.showTip('warning', file.name + ' \\u5DF2\\u5B58\\u5728\\u4E8E\\u5217\\u8868\\u4E2D');\n                } else {\n                    ret.push({\n                        name: file.name,\n                        tags: [],\n                        file: file,\n                        process: 0\n                    });\n                }\n            }\n\n            (_listData = this.listData).push.apply(_listData, ret);\n            dom.value = null;\n        },\n        deleteVideo: function deleteVideo(index) {\n            this.listData.splice(index, 1);\n        },\n        fileClick: function fileClick() {\n            this.$refs.file.click();\n        },\n        submit: function submit() {\n            this.uploading = true;\n            if (this.listData.length > 0) this.uploadVideo();\n        },\n        uploadVideo: function uploadVideo() {\n            var _this = this;\n\n            var count = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n            var item = this.listData[count];\n            __WEBPACK_IMPORTED_MODULE_2__services_course_videoService__[\"a\" /* default */].getOssToken().then(function (ret) {\n                ossSdk = new __WEBPACK_IMPORTED_MODULE_1__vendor_ossSdk__[\"a\" /* default */](ret);\n                console.log(ossSdk);\n                // 开始上传\n                // 格式化名称\n                var now = new Date();\n                var name = ['yxt', _this.user.id, now.getFullYear(), now.getMonth() + 1, now.getDate(), [now.getHours(), now.getMinutes(), now.getSeconds(), (Math.random() + 1).toString(36).substring(7)].join('')].join('/') + _this.extname(item.file);\n                console.log(now);\n                console.log(name);\n                // 上传\n                ossSdk.uploadFile(name, item.file, function (progress) {\n                    item.process = progress;\n                }, function (ret) {\n                    // 创建视频\n                    __WEBPACK_IMPORTED_MODULE_2__services_course_videoService__[\"a\" /* default */].create({\n                        gov_id: _this.user.id,\n                        size: '',\n                        file_name: item.name,\n                        tags: item.tags.join(','),\n                        source_type: 'aliyun',\n                        source_url: ret.res.requestUrls[0].split('?')[0]\n                    }).then(function () {\n                        count++;\n                        // 全都上传完毕之后 跳转到列表页面\n                        if (count < _this.listData.length) {\n                            _this.uploadVideo(count);\n                        } else if (count >= _this.listData.length) {\n                            xmview.showTip('success', '操作成功!');\n                            setTimeout(function () {\n                                _this.$router.back();\n                            }, 300);\n                        }\n                        ossSdk = new __WEBPACK_IMPORTED_MODULE_1__vendor_ossSdk__[\"a\" /* default */](ret);\n                    });\n                }, function (err) {\n                    xmview.showTip('error', '上传出现错误' + JSON.stringify(err));\n                });\n            });\n        },\n        checkExist: function checkExist(name) {\n            for (var i = 0; i < this.listData.length; i++) {\n                if (this.listData[i].name === name) {\n                    return true;\n                }\n            }\n            return false;\n        },\n        extname: function extname(file) {\n            var name = file.name || '';\n            var parts = name.split('.');\n            parts.shift();\n            if (parts.length) {\n                return '.' + parts.pop();\n            }\n            return '';\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 519:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Promise) {/* harmony default export */ __webpack_exports__[\"a\"] = (function (ossOption, changeToken) {\n    if (ossOption) {\n        ossOption.accessKeyId = ossOption.AccessKeyId;\n        ossOption.accessKeySecret = ossOption.AccessKeySecret;\n        ossOption.stsToken = ossOption.SecurityToken;\n        ossOption.bucket = ossOption.BucketName;\n        ossOption.region = ossOption.Region;\n        ossOption.secure = location.protocol === 'https:';\n        // region: 'oss-cn-beijing',\n        //     accessKeyId: 'STS.FAHYC9xQu9hULJpFaZLJ1LFSo',\n        //     accessKeySecret: 'F6Mn61wJpWXydKY6L9nCHfbQYBhKqP9ufBxirwqNrfSu',\n        //     stsToken: 'CAIS9QF1q6Ft5B2yfSjIp4L9EvmNlY5Ujqq\\x2bTmzBomEPQMUdo4P4jTz2IHtFenFvAO8WsPw2mmFT7PcZlqF6R5pEQ3uVMJOtWWuxL0DzDbDasumZsJYm6vT8a0XxZjf\\/2MjNGZabKPrWZvaqbX3diyZ32sGUXD6\\x2bXlujQ\\/br4NwdGbZxZASjaidcD9p7PxZrrNRgVUHcLvGwKBXn8AGyZQhKwlMm0Dslt\\/nkmJTEsUqO1wTAp7VL99irEP\\x2bNdNJxOZpzadCx0dFte7DJuCwqsEMbqv8p1fMUp2\\x2be4IDGWQgK\\x2bXOXKPbK89FiKxJhYq8zF77DAz1AUAKD0BqAAbNwaudwLzy5hfjzPzE6mTgSc\\x2bndCdh24s1NjN93YJrg3RqjNtuqmi1jvtQp5vAHXHcd5qGNbxcrqxQA7oVlnMXwC87ZAb\\/mIOtUH4I2HdOM4NuPfVaohDfwCmByymk7XqdYSECB\\x2btHrThyUhSILr9dWJo98JTFGwO3KSd7G2rtH',\n        //     bucket: 'yst-vod',\n        //     secure: location.protocol === 'https:'\n    }\n    var client = window.OSS && new OSS.Wrapper(ossOption);\n    var checkPointIndexes = {};\n    var _this = this;\n\n    if (!window.OSS) {\n        new Promise(function (resolve, reject) {\n            var script = document.createElement('script');\n            script.src = '//gosspublic.alicdn.com/aliyun-oss-sdk.min.js';\n            document.head.appendChild(script);\n            script.onload = function () {\n                resolve(true);\n            };\n        }).then(function () {\n            client = new OSS.Wrapper(ossOption);\n        });\n    }\n\n    function saveCheckPoint(file, checkpoint) {\n        var key = _this.getFileKey(file);\n        window.localStorage.setItem(key, JSON.stringify(checkpoint));\n    }\n\n    function deleteCheckPoint(file) {\n        var key = _this.getFileKey(file);\n        window.localStorage.removeItem(key);\n    }\n\n    function getCheckPoint(file) {\n        var key = _this.getFileKey(file);\n        var checkpoint = window.localStorage.getItem(key);\n        checkpoint && (checkpoint = JSON.parse(checkpoint));\n        checkpoint || (checkpoint = {});\n        checkpoint.file = file;\n        return checkpoint;\n    }\n\n    // 获取文件上传唯一标记\n    this.getFileKey = function (file) {\n        return 'aliyun.oss.multipartUpload.' + [file.name, file.type, file.size, file.lastModified || '', file.webkitRelativePath || ''].join('|');\n    };\n\n    // 上传文件\n    this.uploadFile = function (name, file, _progress, success, error) {\n        var checkpoint = getCheckPoint(file) || {};\n        checkpoint.file = file;\n        client.multipartUpload(name, file, {\n            partSize: 256 * 1024,\n            checkpoint: checkpoint,\n            progress: function progress(pgs, cpt) {\n                return function (done) {\n                    _progress && _progress(Math.floor(pgs * 100));\n                    saveCheckPoint(file, cpt);\n                    done();\n                };\n            }\n        }).then(function (ret) {\n            deleteCheckPoint(file);\n            success && success(ret);\n        }).catch(function (err) {\n            console.info('oss出错1' + err);\n            // 如果是授权过期则自动更换授权\n            if (['AccessDenied', 'InvalidAccessKeyId', 'SignatureDoesNotMatch'].indexOf(err.code) > -1 && changeToken) {\n                changeToken(function (ret) {\n                    client.options.accessKeyId = ret.accessKeyId;\n                    client.options.accessKeySecret = ret.accessKeySecret;\n                    client.options.stsToken = ret.stsToken;\n                    _this.uploadFile(name, file, _progress, success, error);\n                });\n            } else {\n                // 清空本地断点续传记录\n                deleteCheckPoint(file);\n                error && error(err);\n            }\n        }).catch(function (err) {\n            console.info('oss出错2' + err);\n        });\n    };\n\n    // 取消上传文件\n    this.cancelUploadFile = function (file) {\n        var key = _this.getFileKey(file);\n        var checkpoint = checkPointIndexes[key];\n        if (checkpoint) {\n            client.abortMultipartUpload(checkpoint.name, checkpoint.uploadId);\n        }\n    };\n});;\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(1)))\n\n/***/ }),\n\n/***/ 527:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(100)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"#course-video-add-container{padding:15px;border:1px solid #ededed;border-radius:5px;background:#fff}#course-video-add-container:after{content:\\\"\\\";clear:both;display:block}#course-video-add-container .pagin{float:right;margin-top:15px}#course-video-add-container .bottom-manage{margin-top:15px}.text-blue{color:#20a0ff}.text-light-blue{color:#58b7ff}.text-dark-blue{color:#1d8ce0}.text-success{color:#13ce66}.text-warning{color:#f7ba2a}.text-danger{color:#ff4949}#course-video-add-container .first-select-box{left:50%;top:50%;transform:translateX(-50%) translateY(-50%)}.keyword-container{width:90%;margin-left:5%;margin-bottom:5px}#course-video-add-container{min-height:300px;position:relative}#course-video-add-container .first-select-box{position:absolute}#course-video-add-container .first-select-box section{margin-bottom:10px}#course-video-add-container .box-card{margin:0 auto;width:700px;margin-bottom:15px;transition:all .3s ease}#course-video-add-container .box-card .clearfix{display:-ms-flexbox;display:flex}#course-video-add-container .box-card .clearfix span{-ms-flex:1;flex:1;height:34px;line-height:34px}#course-video-add-container .box-card .clearfix .el-button{-ms-flex:0;flex:0}#course-video-add-container .box-card .el-card__header{padding:5px 10px;background:#f8f8f8}#course-video-add-container .bottom-btn{margin:0 auto;width:700px}#course-video-add-container .bottom-btn .el-button:last-of-type{float:right}\", \"\", {\"version\":3,\"sources\":[\"/home/baichenhui/devspace/sys_ui/assets/src/views/course/video/Add.vue\"],\"names\":[],\"mappings\":\"AACA,4BAA4B,aAAa,AAAkB,yBAAyB,kBAAkB,eAAe,CACpH,AACD,kCAAkC,WAAW,WAAW,aAAa,CACpE,AACD,mCAAmC,YAAY,eAAe,CAC7D,AACD,2CAA2C,eAAe,CACzD,AACD,WAAW,aAAa,CACvB,AACD,iBAAiB,aAAa,CAC7B,AACD,gBAAgB,aAAa,CAC5B,AACD,cAAc,aAAa,CAC1B,AACD,cAAc,aAAa,CAC1B,AACD,aAAa,aAAa,CACzB,AACD,8CAA8C,SAAS,QAAQ,2CAA2C,CACzG,AACD,mBAAmB,UAAU,eAAe,iBAAiB,CAC5D,AACD,4BAA4B,iBAAiB,iBAAiB,CAC7D,AACD,8CAA8C,iBAAiB,CAC9D,AACD,sDAAsD,kBAAkB,CACvE,AACD,sCAAsC,cAAc,YAAY,mBAAmB,uBAAyB,CAC3G,AACD,gDAAgD,oBAAoB,YAAY,CAC/E,AACD,qDAAqD,WAAW,OAAO,YAAY,gBAAgB,CAClG,AACD,2DAA2D,WAAW,MAAM,CAC3E,AACD,uDAAuD,iBAAiB,kBAAkB,CACzF,AACD,wCAAwC,cAAc,WAAW,CAChE,AACD,gEAAgE,WAAW,CAC1E\",\"file\":\"Add.vue\",\"sourcesContent\":[\"\\n#course-video-add-container{padding:15px;position:relative;border:1px solid #ededed;border-radius:5px;background:#fff\\n}\\n#course-video-add-container:after{content:'';clear:both;display:block\\n}\\n#course-video-add-container .pagin{float:right;margin-top:15px\\n}\\n#course-video-add-container .bottom-manage{margin-top:15px\\n}\\n.text-blue{color:#20A0FF\\n}\\n.text-light-blue{color:#58B7FF\\n}\\n.text-dark-blue{color:#1D8CE0\\n}\\n.text-success{color:#13CE66\\n}\\n.text-warning{color:#F7BA2A\\n}\\n.text-danger{color:#FF4949\\n}\\n#course-video-add-container .first-select-box{left:50%;top:50%;transform:translateX(-50%) translateY(-50%)\\n}\\n.keyword-container{width:90%;margin-left:5%;margin-bottom:5px\\n}\\n#course-video-add-container{min-height:300px;position:relative\\n}\\n#course-video-add-container .first-select-box{position:absolute\\n}\\n#course-video-add-container .first-select-box section{margin-bottom:10px\\n}\\n#course-video-add-container .box-card{margin:0 auto;width:700px;margin-bottom:15px;transition:all 300ms ease\\n}\\n#course-video-add-container .box-card .clearfix{display:-ms-flexbox;display:flex\\n}\\n#course-video-add-container .box-card .clearfix span{-ms-flex:1;flex:1;height:34px;line-height:34px\\n}\\n#course-video-add-container .box-card .clearfix .el-button{-ms-flex:0;flex:0\\n}\\n#course-video-add-container .box-card .el-card__header{padding:5px 10px;background:#f8f8f8\\n}\\n#course-video-add-container .bottom-btn{margin:0 auto;width:700px\\n}\\n#course-video-add-container .bottom-btn .el-button:last-of-type{float:right\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 645:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(527);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(101)(\"61c66f71\", content, true);\n\n/***/ }),\n\n/***/ 779:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('main', {\n    attrs: {\n      \"id\": \"course-video-add-container\"\n    }\n  }, [(_vm.listData.length < 1) ? _c('section', {\n    staticClass: \"first-select-box\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.fileClick\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-upload el-icon--right\"\n  }), _vm._v(\" \"), _c('i', [_vm._v(\" 选择要上传的视频文件\")])])], 1) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.listData), function(item, index) {\n    return _c('el-card', {\n      key: index,\n      staticClass: \"box-card\"\n    }, [_c('div', {\n      staticClass: \"clearfix\",\n      slot: \"header\"\n    }, [_c('span', [_vm._v(_vm._s(item.name))]), _vm._v(\" \"), _c('el-button', {\n      attrs: {\n        \"type\": \"text\",\n        \"icon\": \"delete\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.deleteVideo(index)\n        }\n      }\n    })], 1), _vm._v(\" \"), _c('el-form', {\n      attrs: {\n        \"label-width\": \"120px\"\n      }\n    }, [_c('el-form-item', {\n      attrs: {\n        \"label\": \"视频名称\"\n      }\n    }, [_c('el-input', {\n      model: {\n        value: (item.name),\n        callback: function($$v) {\n          item.name = $$v\n        },\n        expression: \"item.name\"\n      }\n    })], 1), _vm._v(\" \"), _c('el-form-item', {\n      attrs: {\n        \"label\": \"视频标签\"\n      }\n    }, [_c('vTags', {\n      model: {\n        value: (item.tags),\n        callback: function($$v) {\n          item.tags = $$v\n        },\n        expression: \"item.tags\"\n      }\n    })], 1), _vm._v(\" \"), _c('el-form-item', {\n      attrs: {\n        \"label\": \"\"\n      }\n    }, [_c('el-progress', {\n      attrs: {\n        \"percentage\": item.process,\n        \"status\": item.process >= 100 ? 'success' : ''\n      }\n    })], 1)], 1)], 1)\n  }), _vm._v(\" \"), (_vm.listData.length > 0) ? _c('div', {\n    staticClass: \"bottom-btn\"\n  }, [_c('el-button', {\n    attrs: {\n      \"disabled\": _vm.uploading\n    },\n    on: {\n      \"click\": _vm.fileClick\n    }\n  }, [_vm._v(\"继续添加视频\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"disabled\": _vm.uploading\n    },\n    on: {\n      \"click\": _vm.submit\n    }\n  }, [_c('i', [_vm._v(_vm._s(_vm.uploading ? '正在上传' : '开始上传'))])])], 1) : _vm._e(), _vm._v(\" \"), _c('input', {\n    ref: \"file\",\n    staticStyle: {\n      \"display\": \"none\"\n    },\n    attrs: {\n      \"type\": \"file\",\n      \"multiple\": \"multiple\",\n      \"accept\": \"audio/mp4, video/mp4,video/mpeg,video/mpg\"\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.fileChange($event)\n      }\n    }\n  })], 2)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/78.afd72f787cb8d0a7ae6b.js","\n/* styles */\nrequire(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-rewriter?{\\\"id\\\":\\\"data-v-0e1eeff3\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Add.vue\")\n\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Add.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-0e1eeff3\\\"}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Add.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/course/video/Add.vue\n// module id = 133\n// module chunks = 78","<!--标签集合-->\n<style lang='scss' rel='stylesheet/scss'>\n    #component-form-tags {\n        display: inline-block;\n\n        .el-tag {\n            margin-right: 5px;\n        }\n\n        .input-new-tag {\n            display: inline-block;\n            width: 80px !important;\n        }\n    }\n</style>\n\n<template>\n    <article id=\"component-form-tags\">\n        <el-tag\n                :key=\"tag\"\n                v-for=\"tag in currVal\"\n                :closable=\"closable\"\n                :close-transition=\"false\"\n                @close=\"handleClose(tag)\">\n            <i>{{tag}}</i>\n        </el-tag>\n        <el-input\n                placeholder=\"输入标签\"\n                class=\"input-new-tag\"\n                v-if=\"inputVisible\"\n                v-model=\"inputValue\"\n                ref=\"saveTagInput\"\n                size=\"mini\"\n                @keyup.enter.native=\"handleInputConfirm\"\n                @blur=\"handleInputConfirm\">\n        </el-input>\n        <el-button v-else size=\"small\" @click=\"showInput\">添加标签</el-button>\n    </article>\n</template>\n\n<script>\n    export default{\n        props: {\n            value: Array,\n            closable: {type: Boolean, default: true}\n        },\n        data () {\n            return {\n                currVal: this.value || [],\n                inputVisible: false,\n                inputValue: void 0,\n            }\n        },\n        created () {\n        },\n        activated () {\n        },\n        watch: {\n            'value' (val) {\n                if (val != this.currVal || (val && val.length != this.currVal.length)) {\n                    this.currVal = val\n                }\n            },\n            'currVal' (val) {\n                if (val.length != this.currVal || val != this.currVal) {\n                    this.$emit('input', val)\n                }\n            }\n        },\n        methods: {\n            handleClose(tag) {\n                this.currVal.splice(this.currVal.indexOf(tag), 1)\n            },\n\n            showInput() {\n                this.inputVisible = true\n                this.$nextTick(_ => {\n                    this.$refs.saveTagInput.$refs.input.focus()\n                })\n            },\n\n            handleInputConfirm() {\n                let inputValue = this.inputValue\n                if (inputValue) {\n                    this.currVal.push(inputValue)\n                }\n                this.inputVisible = false\n                this.inputValue = ''\n            }\n        },\n        components: {}\n    }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Tags.vue?5f98adb2","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"#component-form-tags{display:inline-block}#component-form-tags .el-tag{margin-right:5px}#component-form-tags .input-new-tag{display:inline-block;width:80px!important}\", \"\", {\"version\":3,\"sources\":[\"/home/baichenhui/devspace/sys_ui/assets/src/views/component/form/Tags.vue\"],\"names\":[],\"mappings\":\"AACA,qBAAqB,oBAAoB,CACxC,AACD,6BAA6B,gBAAgB,CAC5C,AACD,oCAAoC,qBAAqB,oBAAqB,CAC7E\",\"file\":\"Tags.vue\",\"sourcesContent\":[\"\\n#component-form-tags{display:inline-block\\n}\\n#component-form-tags .el-tag{margin-right:5px\\n}\\n#component-form-tags .input-new-tag{display:inline-block;width:80px !important\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-1789bef0\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/component/form/Tags.vue\n// module id = 231\n// module chunks = 2 8 9 15 18 24 25 26 29 42 56 78","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-rewriter.js?{\\\"id\\\":\\\"data-v-1789bef0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Tags.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"0db94868\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-1789bef0\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/component/form/Tags.vue\n// module id = 232\n// module chunks = 2 8 9 15 18 24 25 26 29 42 56 78","\n/* styles */\nrequire(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-rewriter?{\\\"id\\\":\\\"data-v-1789bef0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Tags.vue\")\n\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Tags.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-1789bef0\\\"}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Tags.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/component/form/Tags.vue\n// module id = 233\n// module chunks = 2 8 9 15 18 24 25 26 29 42 56 78","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('article', {\n    attrs: {\n      \"id\": \"component-form-tags\"\n    }\n  }, [_vm._l((_vm.currVal), function(tag) {\n    return _c('el-tag', {\n      key: tag,\n      attrs: {\n        \"closable\": _vm.closable,\n        \"close-transition\": false\n      },\n      on: {\n        \"close\": function($event) {\n          _vm.handleClose(tag)\n        }\n      }\n    }, [_c('i', [_vm._v(_vm._s(tag))])])\n  }), _vm._v(\" \"), (_vm.inputVisible) ? _c('el-input', {\n    ref: \"saveTagInput\",\n    staticClass: \"input-new-tag\",\n    attrs: {\n      \"placeholder\": \"输入标签\",\n      \"size\": \"mini\"\n    },\n    on: {\n      \"blur\": _vm.handleInputConfirm\n    },\n    nativeOn: {\n      \"keyup\": function($event) {\n        if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13)) { return null; }\n        _vm.handleInputConfirm($event)\n      }\n    },\n    model: {\n      value: (_vm.inputValue),\n      callback: function($$v) {\n        _vm.inputValue = $$v\n      },\n      expression: \"inputValue\"\n    }\n  }) : _c('el-button', {\n    attrs: {\n      \"size\": \"small\"\n    },\n    on: {\n      \"click\": _vm.showInput\n    }\n  }, [_vm._v(\"添加标签\")])], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?{\"id\":\"data-v-1789bef0\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/component/form/Tags.vue\n// module id = 234\n// module chunks = 2 8 9 15 18 24 25 26 29 42 56 78","// 视频管理\nimport * as api from '../api'\nimport config from '../../utils/config'\nimport authUtils from '../../utils/authUtils'\nconst urlPre = config.apiHost + '/video'\n\nclass VideoService {\n    // // 搜索\n    search({ page, pagesize, status, file_name,  time_start, time_end }) {\n        let url = `${urlPre}/lists`\n        if (status == null || status === '') {\n            status = -1\n        }\n        return api.get(url, { page, pagesize,  status, file_name, time_start, time_end }).then((ret) => {\n            return ret\n        })\n    }\n\n    // 修改\n    update({ id, name, tags, cover, duration }) {\n        let url = `${urlPre}/${id}/`\n        return api.post(url, { name, tags, cover, duration })\n    }\n\n    // 删除\n    delete({ id }) {\n        let url = `${urlPre}/delete/${id}`\n        return api.post(url)\n    }\n\n    // 批量删除\n    deleteMulty({ id }) {\n        let url = `${urlPre}/batchdel`\n        return api.post(url, { id })\n    }\n\n    // 获取oss的上传token\n    getOssToken() {\n        let url = `${urlPre}/video/upload`\n        return api.get(url, {}).then((ret) => {\n            return ret.data\n        })\n    }\n\n    // 刷新视频状态\n    refreshStatus({ id } = {}) {\n        let url = `${urlPre}/refresh/aliyun/status`\n        return api.post(url, { id })\n    }\n\n    // 获取视频预览信息\n    getPreviewInfo(id) {\n        let url = `${urlPre}/${id}/preview`\n        return api.get(url).then((ret) => {\n            return ret.data\n        })\n    }\n\n\n\n\n\n\n\n\n\n    //------------------------\n    // 获取视频\n    //{ gov_id, material_id, title, page, pagesize, create_start, create_end, status }\n    getVideo( gov_id, material_id, title, page, pagesize, create_start, create_end, status,used ) {\n        let url = `${urlPre}/lists`\n        return api.get(url, gov_id, material_id, title, page, pagesize, create_start, create_end, status,used ).then((ret) => {\n            return ret\n        })\n    }\n\n    // 添加视频\n    create({ file_name,  size, gov_id, tags, source_type, source_url }) {\n        let url = `${urlPre}/create`\n        return api.post(url, { file_name,  size, gov_id, tags, source_type, source_url })\n    }\n\n    // 修改视频\n    updateVideo({ file_name, gov_id, tags, cover, duration, material_id }) {\n        gov_id = gov_id || authUtils.getUserInfo().gov_id\n        let url = `${urlPre}/edit/${material_id}`\n        return api.post(url, { file_name, gov_id, tags, cover, duration })\n    }\n\n    // 获取oss的上传token\n    getOssToken() {\n        let finalUrl = `${config.apiHost}/video/upload`\n        return api.get(finalUrl).then((ret) => {\n            return ret.data\n        })\n    }\n\n    // 刷新视频状态\n    refreshVideoStatus({ companyid, id } = {}) {\n        companyid = companyid || authUtils.getUserInfo().company_id\n        let finalUrl = `${urlPre}/refresh/${id}`\n        return api.post(finalUrl, { id }).then((ret) => {\n            return ret\n        })\n    }\n\n    // 获取上传封面的url\n    getUploadCoverUrl() {\n        return `${urlPre}/cover`\n    }\n\n    deleteVideo({ id }) {\n        let url = `${urlPre}/delete/${id}`\n        return api.post(url).then((ret)=>{\n            if (ret.code == 0) {\n                xmview.showTip('success', '操作成功')\n                return ret\n            } else {\n                xmview.showTip('error', ret.message)\n                return Promise.reject(ret)\n            }\n        })\n    }\n\n    // 获取视频预览地址\n    getVideoPreviewUrl(id) {\n        let url = `${urlPre}/get/${id}`\n        return api.get(url).then((ret) => {\n            return ret.data\n        })\n    }\n    // 审核状态\n    auditVideo(form) {\n        let finalUrl = `${urlPre}/video/${form.id}/audit`\n        return api.post(finalUrl, form)\n    }\n\n\n\n\n    \n}\n\nexport default new VideoService()\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/course/videoService.js","<!--上传视频-->\n<style lang='scss' rel='stylesheet/scss'>\n@import \"../../../utils/mixins/common\";\n@import \"../../../utils/mixins/mixins\";\n@import \"../../../utils/mixins/topSearch\";\n\n#course-video-add-container {\n    @extend %content-container;\n    min-height: 300px;\n    position: relative;\n\n    .first-select-box {\n        @extend %absoluteCenter;\n        position: absolute;\n        \n        section {\n            margin-bottom: 10px;\n        }\n    }\n    .box-card {\n        margin: 0 auto;\n        width: 700px;\n        margin-bottom: 15px;\n        transition: all 300ms ease;\n\n        .clearfix {\n            display: flex;\n            span {\n                flex: 1;\n                height: 34px;\n                line-height: 34px;\n            }\n\n            .el-button {\n                flex: 0;\n            }\n        }\n\n        .el-card__header {\n            padding: 5px 10px;\n            background: #f8f8f8;\n        }\n    } // 底部按钮\n    .bottom-btn {\n        margin: 0 auto;\n        width: 700px;\n        .el-button {\n            &:last-of-type {\n                float: right;\n            }\n        }\n    }\n}\n</style>\n\n<template>\n    <main id=\"course-video-add-container\">\n        <section v-if=\"listData.length < 1\" class=\"first-select-box\">\n                       <el-button @click=\"fileClick\" class=\"\" type=\"primary\">\n                <i class=\"el-icon-upload el-icon--right\"></i>\n                <i> 选择要上传的视频文件</i>\n            </el-button>\n        </section>\n    \n        <el-card class=\"box-card\" v-for=\"(item,index) in listData\" :key=\"index\">\n            <div slot=\"header\" class=\"clearfix\">\n                <span>{{item.name}}</span>\n                <el-button type=\"text\" icon=\"delete\" @click=\"deleteVideo(index)\"></el-button>\n            </div>\n            <el-form label-width=\"120px\">\n                <el-form-item label=\"视频名称\">\n                    <el-input v-model=\"item.name\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"视频标签\">\n                    <vTags v-model=\"item.tags\"></vTags>\n                </el-form-item>\n                <el-form-item label=\"\">\n                    <el-progress :percentage=\"item.process\" :status=\"item.process>= 100 ? 'success' : ''\"></el-progress>\n                </el-form-item>\n            </el-form>\n        </el-card>\n    \n        <div v-if=\"listData.length > 0\" class=\"bottom-btn\">\n            <el-button :disabled=\"uploading\" @click=\"fileClick\">继续添加视频</el-button>\n            <el-button type=\"primary\" :disabled=\"uploading\" @click=\"submit\">\n                <i>{{uploading ? '正在上传' : '开始上传'}}</i>\n            </el-button>\n        </div>\n    \n        <input style=\"display: none\" type=\"file\" ref=\"file\" multiple=\"multiple\" @change=\"fileChange($event)\" accept=\"audio/mp4, video/mp4,video/mpeg,video/mpg\">\n    </main>\n</template>\n\n<script>\nimport vTags from '../../component/form/Tags.vue'\nimport OssSdk from '../../../vendor/ossSdk'\nimport videoService from '../../../services/course/videoService'\nimport authUtils from '../../../utils/authUtils'\n\nlet ossSdk = new OssSdk()\nexport default {\n    name: 'course-video-add',\n    components: {\n        vTags,\n    },\n    data() {\n        return {\n            listData: [],\n            uploading: false,\n        }\n    },\n    beforeCreate() {\n        // ossSdk = new OssSdk()\n        this.user = authUtils.getUserInfo()\n    },\n    mounted() {\n        xmview.setContentLoading(false)\n    },\n    methods: {\n        fileChange(e) {\n            let dom = e.target\n            let ret = []\n            for (let i = 0; i < dom.files.length; i++) {\n                let file = dom.files[i]\n                if (this.checkExist(file.name)) {\n                    xmview.showTip('warning', `${file.name} 已存在于列表中`)\n                } else {\n                    ret.push({\n                        name: file.name,\n                        tags: [],\n                        file: file,\n                        process: 0\n                    })\n                }\n            }\n\n            this.listData.push(...ret)\n            dom.value = null\n        },\n        deleteVideo(index) {\n            this.listData.splice(index, 1)\n        },\n        fileClick() {\n            this.$refs.file.click()\n        },\n        submit() {\n            this.uploading = true\n            if (this.listData.length > 0) this.uploadVideo()\n        },\n        uploadVideo(count = 0) {\n            let item = this.listData[count]\n            videoService.getOssToken().then((ret) => {\n                ossSdk = new OssSdk(ret)\n                console.log(ossSdk)\n                // 开始上传\n                // 格式化名称\n                var now = new Date()\n                var name = [\n                    'yxt', this.user.id,\n                    now.getFullYear(), now.getMonth() + 1, now.getDate(),\n                    [now.getHours(), now.getMinutes(), now.getSeconds(), (Math.random() + 1).toString(36).substring(7)].join('')\n                ].join('/') + this.extname(item.file)\n                console.log(now)\n                console.log(name)\n                // 上传\n                ossSdk.uploadFile(name, item.file, function (progress) {\n                    item.process = progress\n                }, ret => {\n                    // 创建视频\n                    videoService.create({\n                        gov_id:this.user.id,\n                        size:'',\n                        file_name: item.name,\n                        tags: item.tags.join(','),\n                        source_type: 'aliyun',\n                        source_url: ret.res.requestUrls[0].split('?')[0]\n                    }).then(() => {\n                        count++\n                        // 全都上传完毕之后 跳转到列表页面\n                        if (count < this.listData.length) {\n                            this.uploadVideo(count)\n                        } else if (count >= this.listData.length) {\n                            xmview.showTip('success', '操作成功!')\n                            setTimeout(() => {\n                                this.$router.back()\n                            }, 300)\n                        }\n                        ossSdk = new OssSdk(ret)\n                    })\n                }, err => {\n                    xmview.showTip('error', '上传出现错误' + JSON.stringify(err))\n                })\n            })\n        },\n        checkExist(name) {\n            for (let i = 0; i < this.listData.length; i++) {\n                if (this.listData[i].name === name) {\n                    return true\n                }\n            }\n            return false\n        },\n        extname(file) {\n            var name = file.name || ''\n            var parts = name.split('.')\n            parts.shift()\n            if (parts.length) {\n                return '.' + parts.pop()\n            }\n            return ''\n        }\n    }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Add.vue?699d8384","export default function (ossOption, changeToken) {\n    if (ossOption) {\n        ossOption.accessKeyId = ossOption.AccessKeyId;\n        ossOption.accessKeySecret = ossOption.AccessKeySecret;\n        ossOption.stsToken = ossOption.SecurityToken;\n        ossOption.bucket = ossOption.BucketName;\n        ossOption.region = ossOption.Region;\n        ossOption.secure = location.protocol === 'https:'\n            // region: 'oss-cn-beijing',\n            //     accessKeyId: 'STS.FAHYC9xQu9hULJpFaZLJ1LFSo',\n            //     accessKeySecret: 'F6Mn61wJpWXydKY6L9nCHfbQYBhKqP9ufBxirwqNrfSu',\n            //     stsToken: 'CAIS9QF1q6Ft5B2yfSjIp4L9EvmNlY5Ujqq\\x2bTmzBomEPQMUdo4P4jTz2IHtFenFvAO8WsPw2mmFT7PcZlqF6R5pEQ3uVMJOtWWuxL0DzDbDasumZsJYm6vT8a0XxZjf\\/2MjNGZabKPrWZvaqbX3diyZ32sGUXD6\\x2bXlujQ\\/br4NwdGbZxZASjaidcD9p7PxZrrNRgVUHcLvGwKBXn8AGyZQhKwlMm0Dslt\\/nkmJTEsUqO1wTAp7VL99irEP\\x2bNdNJxOZpzadCx0dFte7DJuCwqsEMbqv8p1fMUp2\\x2be4IDGWQgK\\x2bXOXKPbK89FiKxJhYq8zF77DAz1AUAKD0BqAAbNwaudwLzy5hfjzPzE6mTgSc\\x2bndCdh24s1NjN93YJrg3RqjNtuqmi1jvtQp5vAHXHcd5qGNbxcrqxQA7oVlnMXwC87ZAb\\/mIOtUH4I2HdOM4NuPfVaohDfwCmByymk7XqdYSECB\\x2btHrThyUhSILr9dWJo98JTFGwO3KSd7G2rtH',\n            //     bucket: 'yst-vod',\n            //     secure: location.protocol === 'https:'\n    }\n    var client = window.OSS && new OSS.Wrapper(ossOption);\n    var checkPointIndexes = {};\n    var _this = this;\n\n    if (!window.OSS) {\n        new Promise((resolve, reject) => {\n            let script = document.createElement('script')\n            script.src = '//gosspublic.alicdn.com/aliyun-oss-sdk.min.js'\n            document.head.appendChild(script)\n            script.onload = () => {\n                resolve(true)\n            }\n        }).then(() => {\n            client = new OSS.Wrapper(ossOption)\n        })\n    }\n\n    function saveCheckPoint (file, checkpoint) {\n        var key = _this.getFileKey(file);\n        window.localStorage.setItem(key, JSON.stringify(checkpoint));\n    }\n\n    function deleteCheckPoint (file) {\n        var key = _this.getFileKey(file);\n        window.localStorage.removeItem(key);\n    }\n\n    function getCheckPoint (file) {\n        var key = _this.getFileKey(file);\n        var checkpoint = window.localStorage.getItem(key);\n        checkpoint && (checkpoint = JSON.parse(checkpoint));\n        checkpoint || (checkpoint = {});\n        checkpoint.file = file;\n        return checkpoint;\n    }\n\n    // 获取文件上传唯一标记\n    this.getFileKey = function (file) {\n        return 'aliyun.oss.multipartUpload.' + [\n                file.name,\n                file.type,\n                file.size,\n                file.lastModified || '',\n                file.webkitRelativePath || ''\n            ].join('|');\n    };\n\n    // 上传文件\n    this.uploadFile = function (name, file, progress, success, error) {\n        var checkpoint = getCheckPoint(file) || {};\n        checkpoint.file = file;\n        client.multipartUpload(name, file, {\n            partSize: 256 * 1024,\n            checkpoint: checkpoint,\n            progress: function (pgs, cpt) {\n                return function (done) {\n                    progress && progress(Math.floor(pgs * 100));\n                    saveCheckPoint(file, cpt);\n                    done();\n                }\n            }\n        }).then(function (ret) {\n            deleteCheckPoint(file);\n            success && success(ret);\n        }).catch(function (err) {\n            console.info('oss出错1' + err)\n            // 如果是授权过期则自动更换授权\n            if (['AccessDenied', 'InvalidAccessKeyId', 'SignatureDoesNotMatch'].indexOf(err.code) > -1 && changeToken) {\n                changeToken(function (ret) {\n                    client.options.accessKeyId = ret.accessKeyId;\n                    client.options.accessKeySecret = ret.accessKeySecret;\n                    client.options.stsToken = ret.stsToken;\n                    _this.uploadFile(name, file, progress, success, error);\n                });\n            } else {\n                // 清空本地断点续传记录\n                deleteCheckPoint(file);\n                error && error(err);\n            }\n        }).catch(err => {\n            console.info('oss出错2' + err)\n        });\n    };\n\n    // 取消上传文件\n    this.cancelUploadFile = function (file) {\n        var key = _this.getFileKey(file);\n        var checkpoint = checkPointIndexes[key];\n        if (checkpoint) {\n            client.abortMultipartUpload(checkpoint.name, checkpoint.uploadId)\n        }\n    };\n};\n\n\n// WEBPACK FOOTER //\n// ./src/vendor/ossSdk.js","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"#course-video-add-container{padding:15px;border:1px solid #ededed;border-radius:5px;background:#fff}#course-video-add-container:after{content:\\\"\\\";clear:both;display:block}#course-video-add-container .pagin{float:right;margin-top:15px}#course-video-add-container .bottom-manage{margin-top:15px}.text-blue{color:#20a0ff}.text-light-blue{color:#58b7ff}.text-dark-blue{color:#1d8ce0}.text-success{color:#13ce66}.text-warning{color:#f7ba2a}.text-danger{color:#ff4949}#course-video-add-container .first-select-box{left:50%;top:50%;transform:translateX(-50%) translateY(-50%)}.keyword-container{width:90%;margin-left:5%;margin-bottom:5px}#course-video-add-container{min-height:300px;position:relative}#course-video-add-container .first-select-box{position:absolute}#course-video-add-container .first-select-box section{margin-bottom:10px}#course-video-add-container .box-card{margin:0 auto;width:700px;margin-bottom:15px;transition:all .3s ease}#course-video-add-container .box-card .clearfix{display:-ms-flexbox;display:flex}#course-video-add-container .box-card .clearfix span{-ms-flex:1;flex:1;height:34px;line-height:34px}#course-video-add-container .box-card .clearfix .el-button{-ms-flex:0;flex:0}#course-video-add-container .box-card .el-card__header{padding:5px 10px;background:#f8f8f8}#course-video-add-container .bottom-btn{margin:0 auto;width:700px}#course-video-add-container .bottom-btn .el-button:last-of-type{float:right}\", \"\", {\"version\":3,\"sources\":[\"/home/baichenhui/devspace/sys_ui/assets/src/views/course/video/Add.vue\"],\"names\":[],\"mappings\":\"AACA,4BAA4B,aAAa,AAAkB,yBAAyB,kBAAkB,eAAe,CACpH,AACD,kCAAkC,WAAW,WAAW,aAAa,CACpE,AACD,mCAAmC,YAAY,eAAe,CAC7D,AACD,2CAA2C,eAAe,CACzD,AACD,WAAW,aAAa,CACvB,AACD,iBAAiB,aAAa,CAC7B,AACD,gBAAgB,aAAa,CAC5B,AACD,cAAc,aAAa,CAC1B,AACD,cAAc,aAAa,CAC1B,AACD,aAAa,aAAa,CACzB,AACD,8CAA8C,SAAS,QAAQ,2CAA2C,CACzG,AACD,mBAAmB,UAAU,eAAe,iBAAiB,CAC5D,AACD,4BAA4B,iBAAiB,iBAAiB,CAC7D,AACD,8CAA8C,iBAAiB,CAC9D,AACD,sDAAsD,kBAAkB,CACvE,AACD,sCAAsC,cAAc,YAAY,mBAAmB,uBAAyB,CAC3G,AACD,gDAAgD,oBAAoB,YAAY,CAC/E,AACD,qDAAqD,WAAW,OAAO,YAAY,gBAAgB,CAClG,AACD,2DAA2D,WAAW,MAAM,CAC3E,AACD,uDAAuD,iBAAiB,kBAAkB,CACzF,AACD,wCAAwC,cAAc,WAAW,CAChE,AACD,gEAAgE,WAAW,CAC1E\",\"file\":\"Add.vue\",\"sourcesContent\":[\"\\n#course-video-add-container{padding:15px;position:relative;border:1px solid #ededed;border-radius:5px;background:#fff\\n}\\n#course-video-add-container:after{content:'';clear:both;display:block\\n}\\n#course-video-add-container .pagin{float:right;margin-top:15px\\n}\\n#course-video-add-container .bottom-manage{margin-top:15px\\n}\\n.text-blue{color:#20A0FF\\n}\\n.text-light-blue{color:#58B7FF\\n}\\n.text-dark-blue{color:#1D8CE0\\n}\\n.text-success{color:#13CE66\\n}\\n.text-warning{color:#F7BA2A\\n}\\n.text-danger{color:#FF4949\\n}\\n#course-video-add-container .first-select-box{left:50%;top:50%;transform:translateX(-50%) translateY(-50%)\\n}\\n.keyword-container{width:90%;margin-left:5%;margin-bottom:5px\\n}\\n#course-video-add-container{min-height:300px;position:relative\\n}\\n#course-video-add-container .first-select-box{position:absolute\\n}\\n#course-video-add-container .first-select-box section{margin-bottom:10px\\n}\\n#course-video-add-container .box-card{margin:0 auto;width:700px;margin-bottom:15px;transition:all 300ms ease\\n}\\n#course-video-add-container .box-card .clearfix{display:-ms-flexbox;display:flex\\n}\\n#course-video-add-container .box-card .clearfix span{-ms-flex:1;flex:1;height:34px;line-height:34px\\n}\\n#course-video-add-container .box-card .clearfix .el-button{-ms-flex:0;flex:0\\n}\\n#course-video-add-container .box-card .el-card__header{padding:5px 10px;background:#f8f8f8\\n}\\n#course-video-add-container .bottom-btn{margin:0 auto;width:700px\\n}\\n#course-video-add-container .bottom-btn .el-button:last-of-type{float:right\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-0e1eeff3\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/course/video/Add.vue\n// module id = 527\n// module chunks = 78","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-rewriter.js?{\\\"id\\\":\\\"data-v-0e1eeff3\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Add.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"61c66f71\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-0e1eeff3\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/course/video/Add.vue\n// module id = 645\n// module chunks = 78","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('main', {\n    attrs: {\n      \"id\": \"course-video-add-container\"\n    }\n  }, [(_vm.listData.length < 1) ? _c('section', {\n    staticClass: \"first-select-box\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.fileClick\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-upload el-icon--right\"\n  }), _vm._v(\" \"), _c('i', [_vm._v(\" 选择要上传的视频文件\")])])], 1) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.listData), function(item, index) {\n    return _c('el-card', {\n      key: index,\n      staticClass: \"box-card\"\n    }, [_c('div', {\n      staticClass: \"clearfix\",\n      slot: \"header\"\n    }, [_c('span', [_vm._v(_vm._s(item.name))]), _vm._v(\" \"), _c('el-button', {\n      attrs: {\n        \"type\": \"text\",\n        \"icon\": \"delete\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.deleteVideo(index)\n        }\n      }\n    })], 1), _vm._v(\" \"), _c('el-form', {\n      attrs: {\n        \"label-width\": \"120px\"\n      }\n    }, [_c('el-form-item', {\n      attrs: {\n        \"label\": \"视频名称\"\n      }\n    }, [_c('el-input', {\n      model: {\n        value: (item.name),\n        callback: function($$v) {\n          item.name = $$v\n        },\n        expression: \"item.name\"\n      }\n    })], 1), _vm._v(\" \"), _c('el-form-item', {\n      attrs: {\n        \"label\": \"视频标签\"\n      }\n    }, [_c('vTags', {\n      model: {\n        value: (item.tags),\n        callback: function($$v) {\n          item.tags = $$v\n        },\n        expression: \"item.tags\"\n      }\n    })], 1), _vm._v(\" \"), _c('el-form-item', {\n      attrs: {\n        \"label\": \"\"\n      }\n    }, [_c('el-progress', {\n      attrs: {\n        \"percentage\": item.process,\n        \"status\": item.process >= 100 ? 'success' : ''\n      }\n    })], 1)], 1)], 1)\n  }), _vm._v(\" \"), (_vm.listData.length > 0) ? _c('div', {\n    staticClass: \"bottom-btn\"\n  }, [_c('el-button', {\n    attrs: {\n      \"disabled\": _vm.uploading\n    },\n    on: {\n      \"click\": _vm.fileClick\n    }\n  }, [_vm._v(\"继续添加视频\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"disabled\": _vm.uploading\n    },\n    on: {\n      \"click\": _vm.submit\n    }\n  }, [_c('i', [_vm._v(_vm._s(_vm.uploading ? '正在上传' : '开始上传'))])])], 1) : _vm._e(), _vm._v(\" \"), _c('input', {\n    ref: \"file\",\n    staticStyle: {\n      \"display\": \"none\"\n    },\n    attrs: {\n      \"type\": \"file\",\n      \"multiple\": \"multiple\",\n      \"accept\": \"audio/mp4, video/mp4,video/mpeg,video/mpg\"\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.fileChange($event)\n      }\n    }\n  })], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?{\"id\":\"data-v-0e1eeff3\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/course/video/Add.vue\n// module id = 779\n// module chunks = 78"],"sourceRoot":""}